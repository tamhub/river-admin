<!-- <template>
  <v-content>
    <v-container class="fill-height" fluid>
      <v-row align="center" justify="center">
        <v-col cols="12" sm="8" md="4">
          <div class="flex items-center justify-center py-10 w-full"> <svg class="!max-w-[120px]" width="77" height="44"
              viewBox="0 0 77 44" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M62.9165 19.8923L54.9652 9.34577V21.2432C54.9652 21.9727 54.6747 22.6723 54.1577 23.1881C53.6406 23.704 52.9393 23.9937 52.2081 23.9937H49.1528V0H53.2893C53.892 0.000423527 54.4864 0.140492 55.0255 0.409166C55.5647 0.67784 56.034 1.06778 56.3964 1.54824L62.9165 10.2036L69.4383 1.54824C69.8005 1.0676 70.2697 0.677529 70.8089 0.408836C71.3481 0.140143 71.9426 0.000181549 72.5453 0H76.6818V23.9984H73.6266C73.2641 23.9984 72.9052 23.9271 72.5703 23.7886C72.2355 23.6501 71.9314 23.4471 71.6753 23.1912C71.4192 22.9353 71.2162 22.6315 71.0779 22.2973C70.9396 21.963 70.8688 21.6048 70.8694 21.2432V9.34577L62.9165 19.8923Z"
                fill="#5E45FF" />
              <path
                d="M0.318176 2.75209V5.8016H9.47937V23.9985H15.2934V5.8016H24.4561V2.75209C24.4557 2.02247 24.1649 1.32287 23.6476 0.807097C23.1303 0.291322 22.4288 0.0015868 21.6974 0.00158691H3.07689C2.3455 0.0015868 1.64405 0.291322 1.12674 0.807097C0.609425 1.32287 0.318592 2.02247 0.318176 2.75209Z"
                fill="#5E45FF" />
              <path
                d="M29.4385 4.86383L32.7966 10.656L36.1564 4.86383L33.6001 0.466464C33.5166 0.326662 33.3982 0.210888 33.2564 0.130486C33.1146 0.0500845 32.9543 0.0078125 32.7911 0.0078125C32.628 0.0078125 32.4677 0.0500845 32.3259 0.130486C32.1841 0.210888 32.0657 0.326662 31.9822 0.466464L29.4385 4.86383Z"
                fill="#0028B3" />
              <path
                d="M36.7605 5.46655L33.4008 11.2587L39.4345 22.098C39.7696 22.6764 40.2514 23.1567 40.8315 23.4905C41.4116 23.8244 42.0696 24.0001 42.7393 24H47.2524L36.7605 5.46655Z"
                fill="#5E45FF" />
              <path
                d="M18.3377 23.9984H22.8555C23.525 23.9984 24.1827 23.8227 24.7625 23.4888C25.3424 23.1549 25.8239 22.6747 26.1588 22.0964L32.1642 11.2854L28.8061 5.49316L18.3377 23.9984Z"
                fill="#5E45FF" />
              <path
                d="M12.1868 43H10.6028L7.9948 33.4H7.9628L5.3228 43H3.7388L0.810801 31.576H2.3628L4.6028 41.08H4.6348L7.1948 31.576H8.8428L11.3708 41.08H11.4028L13.7228 31.576H15.2428L12.1868 43ZM15.3193 37.288C15.3193 36.5093 15.4313 35.7627 15.6553 35.048C15.89 34.3227 16.2366 33.6827 16.6953 33.128C17.154 32.5733 17.7246 32.1307 18.4073 31.8C19.09 31.4693 19.8846 31.304 20.7913 31.304C21.698 31.304 22.4926 31.4693 23.1753 31.8C23.858 32.1307 24.4286 32.5733 24.8873 33.128C25.346 33.6827 25.6873 34.3227 25.9113 35.048C26.146 35.7627 26.2633 36.5093 26.2633 37.288C26.2633 38.0667 26.146 38.8187 25.9113 39.544C25.6873 40.2587 25.346 40.8933 24.8873 41.448C24.4286 42.0027 23.858 42.4453 23.1753 42.776C22.4926 43.1067 21.698 43.272 20.7913 43.272C19.8846 43.272 19.09 43.1067 18.4073 42.776C17.7246 42.4453 17.154 42.0027 16.6953 41.448C16.2366 40.8933 15.89 40.2587 15.6553 39.544C15.4313 38.8187 15.3193 38.0667 15.3193 37.288ZM16.8393 37.288C16.8393 37.864 16.914 38.4347 17.0633 39C17.2126 39.5547 17.4473 40.056 17.7673 40.504C18.0873 40.952 18.498 41.3147 18.9993 41.592C19.5006 41.8587 20.098 41.992 20.7913 41.992C21.4846 41.992 22.082 41.8587 22.5833 41.592C23.0846 41.3147 23.4953 40.952 23.8153 40.504C24.1353 40.056 24.37 39.5547 24.5193 39C24.6686 38.4347 24.7433 37.864 24.7433 37.288C24.7433 36.712 24.6686 36.1467 24.5193 35.592C24.37 35.0267 24.1353 34.52 23.8153 34.072C23.4953 33.624 23.0846 33.2667 22.5833 33C22.082 32.7227 21.4846 32.584 20.7913 32.584C20.098 32.584 19.5006 32.7227 18.9993 33C18.498 33.2667 18.0873 33.624 17.7673 34.072C17.4473 34.52 17.2126 35.0267 17.0633 35.592C16.914 36.1467 16.8393 36.712 16.8393 37.288ZM32.0836 36.84C32.4356 36.84 32.7716 36.8133 33.0916 36.76C33.4116 36.7067 33.6889 36.6053 33.9236 36.456C34.1689 36.296 34.3609 36.088 34.4996 35.832C34.6489 35.5653 34.7236 35.224 34.7236 34.808C34.7236 34.2427 34.5636 33.7787 34.2436 33.416C33.9236 33.0427 33.4062 32.856 32.6916 32.856H28.9156V36.84H32.0836ZM27.3956 31.576H32.7716C33.8489 31.576 34.6969 31.848 35.3156 32.392C35.9342 32.9253 36.2436 33.6507 36.2436 34.568C36.2436 35.2613 36.0836 35.8693 35.7636 36.392C35.4542 36.9147 34.9529 37.272 34.2596 37.464V37.496C34.5902 37.56 34.8569 37.6667 35.0596 37.816C35.2729 37.9653 35.4436 38.1467 35.5716 38.36C35.6996 38.5627 35.7902 38.792 35.8436 39.048C35.8969 39.304 35.9396 39.5707 35.9716 39.848C35.9929 40.1253 36.0089 40.4133 36.0196 40.712C36.0409 41 36.0676 41.2827 36.0996 41.56C36.1422 41.8267 36.2009 42.088 36.2756 42.344C36.3609 42.5893 36.4836 42.808 36.6436 43H34.9476C34.8409 42.8827 34.7662 42.7227 34.7236 42.52C34.6916 42.3173 34.6702 42.0933 34.6596 41.848C34.6489 41.592 34.6382 41.32 34.6276 41.032C34.6169 40.744 34.5849 40.4613 34.5316 40.184C34.4889 39.9067 34.4356 39.6453 34.3716 39.4C34.3076 39.144 34.2062 38.9253 34.0676 38.744C33.9289 38.552 33.7422 38.4027 33.5076 38.296C33.2836 38.1787 32.9902 38.12 32.6276 38.12H28.9156V43H27.3956V31.576ZM37.6287 31.576H39.1487V37.272L44.9407 31.576H46.9087L42.0927 36.184L47.1007 43H45.1807L41.0527 37.224L39.1487 39V43H37.6287V31.576ZM54.1886 34.92C54.1032 34.0987 53.8046 33.5067 53.2926 33.144C52.7912 32.7707 52.1459 32.584 51.3566 32.584C51.0366 32.584 50.7219 32.616 50.4126 32.68C50.1032 32.744 49.8259 32.8507 49.5806 33C49.3459 33.1493 49.1539 33.352 49.0046 33.608C48.8659 33.8533 48.7966 34.1627 48.7966 34.536C48.7966 34.888 48.8979 35.176 49.1006 35.4C49.3139 35.6133 49.5912 35.7893 49.9326 35.928C50.2846 36.0667 50.6792 36.184 51.1166 36.28C51.5539 36.3653 52.0019 36.4613 52.4606 36.568C52.9192 36.6747 53.3672 36.8027 53.8046 36.952C54.2419 37.0907 54.6312 37.2827 54.9726 37.528C55.3139 37.7733 55.5859 38.088 55.7886 38.472C56.0019 38.8453 56.1086 39.3093 56.1086 39.864C56.1086 40.472 55.9699 40.9947 55.6926 41.432C55.4259 41.8587 55.0792 42.2107 54.6526 42.488C54.2259 42.7547 53.7459 42.952 53.2126 43.08C52.6899 43.208 52.1672 43.272 51.6446 43.272C51.0046 43.272 50.3966 43.192 49.8206 43.032C49.2552 42.872 48.7539 42.6267 48.3166 42.296C47.8899 41.9653 47.5486 41.5493 47.2926 41.048C47.0472 40.536 46.9246 39.9333 46.9246 39.24H48.3646C48.3646 39.72 48.4552 40.136 48.6366 40.488C48.8286 40.8293 49.0739 41.112 49.3726 41.336C49.6819 41.56 50.0339 41.7253 50.4286 41.832C50.8339 41.9387 51.2552 41.992 51.6926 41.992C52.0339 41.992 52.3752 41.96 52.7166 41.896C53.0686 41.832 53.3832 41.7253 53.6606 41.576C53.9379 41.416 54.1619 41.2027 54.3326 40.936C54.5032 40.6693 54.5886 40.328 54.5886 39.912C54.5886 39.5173 54.4819 39.1973 54.2686 38.952C54.0659 38.7067 53.7939 38.5093 53.4526 38.36C53.1112 38.2 52.7219 38.072 52.2846 37.976C51.8472 37.8693 51.3992 37.768 50.9406 37.672C50.4819 37.576 50.0339 37.464 49.5966 37.336C49.1592 37.1973 48.7646 37.016 48.4126 36.792C48.0712 36.568 47.7939 36.2853 47.5806 35.944C47.3779 35.6027 47.2766 35.1707 47.2766 34.648C47.2766 34.072 47.3939 33.576 47.6286 33.16C47.8632 32.7333 48.1726 32.3867 48.5566 32.12C48.9512 31.8427 49.3939 31.64 49.8846 31.512C50.3859 31.3733 50.8979 31.304 51.4206 31.304C52.0072 31.304 52.5512 31.3733 53.0526 31.512C53.5539 31.6507 53.9912 31.8693 54.3646 32.168C54.7379 32.4667 55.0366 32.8453 55.2606 33.304C55.4846 33.752 55.6072 34.2907 55.6286 34.92H54.1886ZM61.9556 38.328V43H60.4356V38.328L56.0196 31.576H57.8276L61.2516 37.016L64.5956 31.576H66.3236L61.9556 38.328ZM73.4985 34.92C73.4132 34.0987 73.1145 33.5067 72.6025 33.144C72.1012 32.7707 71.4559 32.584 70.6665 32.584C70.3465 32.584 70.0319 32.616 69.7225 32.68C69.4132 32.744 69.1359 32.8507 68.8905 33C68.6559 33.1493 68.4639 33.352 68.3145 33.608C68.1759 33.8533 68.1065 34.1627 68.1065 34.536C68.1065 34.888 68.2079 35.176 68.4105 35.4C68.6239 35.6133 68.9012 35.7893 69.2425 35.928C69.5945 36.0667 69.9892 36.184 70.4265 36.28C70.8639 36.3653 71.3119 36.4613 71.7705 36.568C72.2292 36.6747 72.6772 36.8027 73.1145 36.952C73.5519 37.0907 73.9412 37.2827 74.2825 37.528C74.6239 37.7733 74.8959 38.088 75.0985 38.472C75.3119 38.8453 75.4185 39.3093 75.4185 39.864C75.4185 40.472 75.2799 40.9947 75.0025 41.432C74.7359 41.8587 74.3892 42.2107 73.9625 42.488C73.5359 42.7547 73.0559 42.952 72.5225 43.08C71.9999 43.208 71.4772 43.272 70.9545 43.272C70.3145 43.272 69.7065 43.192 69.1305 43.032C68.5652 42.872 68.0639 42.6267 67.6265 42.296C67.1999 41.9653 66.8585 41.5493 66.6025 41.048C66.3572 40.536 66.2345 39.9333 66.2345 39.24H67.6745C67.6745 39.72 67.7652 40.136 67.9465 40.488C68.1385 40.8293 68.3839 41.112 68.6825 41.336C68.9919 41.56 69.3439 41.7253 69.7385 41.832C70.1439 41.9387 70.5652 41.992 71.0025 41.992C71.3439 41.992 71.6852 41.96 72.0265 41.896C72.3785 41.832 72.6932 41.7253 72.9705 41.576C73.2479 41.416 73.4719 41.2027 73.6425 40.936C73.8132 40.6693 73.8985 40.328 73.8985 39.912C73.8985 39.5173 73.7919 39.1973 73.5785 38.952C73.3759 38.7067 73.1039 38.5093 72.7625 38.36C72.4212 38.2 72.0319 38.072 71.5945 37.976C71.1572 37.8693 70.7092 37.768 70.2505 37.672C69.7919 37.576 69.3439 37.464 68.9065 37.336C68.4692 37.1973 68.0745 37.016 67.7225 36.792C67.3812 36.568 67.1039 36.2853 66.8905 35.944C66.6879 35.6027 66.5865 35.1707 66.5865 34.648C66.5865 34.072 66.7039 33.576 66.9385 33.16C67.1732 32.7333 67.4825 32.3867 67.8665 32.12C68.2612 31.8427 68.7039 31.64 69.1945 31.512C69.6959 31.3733 70.2079 31.304 70.7305 31.304C71.3172 31.304 71.8612 31.3733 72.3625 31.512C72.8639 31.6507 73.3012 31.8693 73.6745 32.168C74.0479 32.4667 74.3465 32.8453 74.5705 33.304C74.7945 33.752 74.9172 34.2907 74.9385 34.92H73.4985Z"
                fill="#D2D2D2" />
            </svg></div>
          <v-card class="elevation-12" pa-5>
            <v-toolbar color="primary" dark flat>
              <v-toolbar-title>Workflow Management System</v-toolbar-title>
              <div class="flex-grow-1"></div>
            </v-toolbar>
            <v-card-text>
              <v-form>
                <v-text-field v-model="username" label="Login" name="login" prepend-icon="mdi-account"
                  type="text"></v-text-field>

                <v-text-field v-model="password" id="password" label="Password" name="password" prepend-icon="mdi-lock"
                  type="password"></v-text-field>
              </v-form>
            </v-card-text>
            <v-card-actions>
              <div class="flex-grow-1"></div>
              <v-btn theme="light" class="rounded-full px-8 py-4" color="primary" @click="login">Login</v-btn>
            </v-card-actions>
          </v-card>
        </v-col>
      </v-row>
    </v-container>
  </v-content>
</template>

<script>
import { auth, WORKFLOW } from "@/helpers/auth";
import { emit_error } from "@/helpers/event_bus";
import axios from "axios";
export default {
  props: {
    source: String
  },
  data: () => ({
    username: null,
    password: null
  }),
  methods: {
    login() {
      this.error_message = null;
      this.alert = false;
      axios
        .post("/api-token-auth/", { username: this.username, password: this.password })
        .then(response => {
          this.$store.commit("setAuthToken", response.data.token);
          auth.has_view_permission(WORKFLOW, yes => {
            if (yes) {
              if (this.$route.params.nextUrl) {
                this.$router.push({ path: this.$route.params.nextUrl });
              } else {
                this.$router.push({ name: "home" });
              }
            } else {
              this.$store.commit("initLogout");
              emit_error(["You must have the permission to view the workflows!"], 10000);
            }
          });
        })
        .catch(err => {
          emit_error(["Authentication failed with given credentials!"], 10000);
        });
    }
  }
};
</script> -->


<template>
  <section class="w-screen h-screen flex items-center justify-center">
    <SplashScreen />
  </section>
</template>

<script>
import { onMounted } from 'vue';
import SplashScreen from '@/components/SplashScreen';
import { BASE_URL, TENANT } from '@/helpers/constants';
export default {
  setup(props) {

    onMounted(() => {
    });

    return {};
  },
  components: {
    SplashScreen,
  },
 mounted() {
    const extra = `/${TENANT}`;
    const from = window.location.origin + extra + '';
    const next = window.location.origin + extra + '/loading';

    const url = `${BASE_URL}/api/auth/login?next=${next}?from=${from}`;
    window.location.replace(url);

  },
};
</script>


https://maded.tam.run/api/auth/login?next=https://maded.tam.run//river-admin/loading?from=https://maded.tam.run/river-admin/